<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core">

<h:head>
    <title>√Ä propos - Destination Indon√©sie</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&amp;display=swap"
          rel="stylesheet" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0062ff 0%, #00c6ff 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 20px 0;
        }
        .about-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
    </style>
</h:head>

<h:body>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">

            <div class="card about-card p-4">

                <h2 class="text-center mb-3">√Ä propos du Projet</h2>
                <p class="text-muted text-center">
                    Application d√©di√©e √† la d√©couverte culturelle et g√©ographique de l‚ÄôIndon√©sie.
                </p>

                <!-- Messages globaux (succ√®s, info) -->
                <h:messages globalOnly="true"
                            styleClass="alert alert-info text-center"/>

                <h:panelGroup rendered="#{welcomeBean.estConnecte()}">
                    <h4 class="mt-4 text-primary">üë§ Mon profil</h4>

                    <h:form>

                        <!-- USERNAME -->
                        <div class="mb-3">
                            <label class="form-label">Nom d'utilisateur</label>
                            <h:inputText id="username"
                                         value="#{welcomeBean.utilisateurConnecte.username}"
                                         readonly="true"
                                         styleClass="form-control"/>
                        </div>

                        <!-- EMAIL -->
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <h:inputText id="email"
                                         value="#{welcomeBean.utilisateurConnecte.email}"
                                         readonly="true"
                                         styleClass="form-control"/>
                        </div>

                        <!-- MOT DE PASSE -->
                        <div class="mb-3">
                            <label class="form-label">Nouveau mot de passe</label>
                            <h:inputSecret id="password"
                                           value="#{welcomeBean.nouveauMotDePasse}"
                                           required="true"
                                           requiredMessage="Le mot de passe est obligatoire"
                                           styleClass="form-control"/>

                            <!-- MESSAGE DU CHAMP -->
                            <h:message for="password"
                                       styleClass="text-danger small"/>
                        </div>

                        <!-- BOUTONS -->
                        <div class="d-flex justify-content-between mt-4">
                            <h:commandButton value="Mettre √† jour"
                                             action="#{welcomeBean.modifierMotDePasse}"
                                             styleClass="btn btn-success"/>

                            <h:commandButton value="D√©connexion"
                                             action="#{welcomeBean.logout}"
                                             styleClass="btn btn-danger"/>
                        </div>

                    </h:form>
                </h:panelGroup>

                <h:panelGroup rendered="#{!welcomeBean.estConnecte()}">
                    <div class="alert alert-warning text-center mt-4">
                        Votre session a expir√©. Veuillez vous reconnecter.
                    </div>
                </h:panelGroup>

                <div class="text-center mt-4">
                    <h:link outcome="/home" styleClass="btn btn-primary">
                        Retour au menu
                    </h:link>
                </div>

            </div>

            <p class="text-center text-white-50 mt-3 small">
                Version 1.0 ‚Äì Jakarta Mission 2025
            </p>

        </div>
    </div>
</div>
</h:body>
</html>
